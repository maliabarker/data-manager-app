{% extends 'base.html' %}

{% block content %}
    <h1>{{ dataset.title }}</h1>

    <div class="d-flex flex-row mb-3">
      <form id="someForm" class="mr-sm-2" action="/dataset/{{ dataset.id }}/increase_count" method="post">
        <a id="downloadLink" href="https://datamanagementapp.s3.us-west-1.amazonaws.com/{{ dataset.dataset_file }}" class="btn btn-outline-primary">Download</a>
        <!-- <p id="downloadLink">link</p> -->
      </form>

      <form action="index.html" method="post">
        <button type="button" class="btn btn-outline-danger">Delete</button>
      </form>
    </div>

    <div class="df-table">
        <table>
            {{ dataframe|safe }}
        </table>
    </div>

    <script type="text/javascript">
      document.getElementById("downloadLink").onclick = (e) => {
          const incrDownloadform = document.getElementById('someForm');

          fetch(incrDownloadform.action, {method: 'post'}).then((data) => {
            console.log(data)
          }).catch((error) => {
            console.log(error)
          })
      }
    </script>
{% endblock %}
